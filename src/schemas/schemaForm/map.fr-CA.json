{
    "schema": "map",
    "title": "Carte",
    "type": "object",
    "description": "Propriétés principales de la carte (étendues, niveaux de détail).",
    "properties": {
        "extentSets": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "id": {
                "type": "string",
                "title": "ID",
                "default": ""
              },
              "spatialReference": {
                "description": "La projection pour des étendues données.",
                "title": "Référence spatiale",
                "type": "object",
                "properties": {
                  "wkid": {
                      "type": "number",
                      "title": "WKID",
                      "description": "Well-Known ID",
                      "default": 3978,
                      "minimum": "0"
                  },
                  "vcsWkid": {
                      "type": "number",
                      "title": "VcsWKID",
                      "description": "Vertical coordinate system WKID",
                      "default": ""
                  },
                  "latestWkid": {
                      "type": "number",
                      "title": "WKID le plus récent",
                      "default": ""
                  },
                  "latestVcsWkid": {
                      "type": "number",
                      "title": "VcsWKID le plus récent",
                      "default": ""
                  },
                  "wkt": {
                      "type": "string",
                      "title": "WKT",
                      "description": "Well-Known Text",
                      "default": ""
                  }
              },
              "required": ["wkid"],
              "additionalProperties": false
              },
              "default": {
                "description": "Étendue utilisée par défaut ainsi que pour le chargement initial.",
                "title": "Étendue par défaut",
                "type": "object",
                "properties": {
                  "xmin": {
                    "type": "number",
                    "title": "X min",
                    "default": ""
                  },
                  "ymin": {
                    "type": "number",
                    "title": "Y min",
                    "default": ""
                  },
                  "xmax": {
                    "type": "number",
                    "title": "X max",
                    "default": ""
                  },
                  "ymax": {
                    "type": "number",
                    "title": "Y max",
                    "default": ""
                  }
                },
                "required": [
                  "xmin",
                  "ymin",
                  "xmax",
                  "ymax"
                ],
                "additionalProperties": false
              },
              "full": {
                "description": "Étendue utilisée lorsque l'utilisateur clique sur le bouton étendue initiale. L'étendue par défaut sera utilisée si l'étendue complète n'est pas définie.",
                "title": "Étendue complète",
                "type": "object",
                "properties": {
                  "xmin": {
                    "type": "number",
                    "title": "X min",
                    "default": 0
                  },
                  "ymin": {
                    "type": "number",
                    "title": "Y min",
                    "default": 0
                  },
                  "xmax": {
                    "type": "number",
                    "title": "X max",
                    "default": 0
                  },
                  "ymax": {
                    "type": "number",
                    "title": "Y max",
                    "default": 0
                  }
                },
                "required": [
                  "xmin",
                  "ymin",
                  "xmax",
                  "ymax"
                ],
                "additionalProperties": false
              },
              "maximum": {
                "description": "L'étendue maximale permet de limiter le zoom et le pan. L'étendue complète ou par défaut sera utilisée si l'étendue maximale n'est pas définie.",
                "title": "Étendue maximale",
                "type": "object",
                "properties": {
                  "xmin": {
                    "type": "number",
                    "title": "X min",
                    "default": 0
                  },
                  "ymin": {
                    "type": "number",
                    "title": "Y min",
                    "default": 0
                  },
                  "xmax": {
                    "type": "number",
                    "title": "X max",
                    "default": 0
                  },
                  "ymax": {
                    "type": "number",
                    "title": "Y max",
                    "default": 0
                  }
                },
                "required": [
                  "xmin",
                  "ymin",
                  "xmax",
                  "ymax"
                ],
                "additionalProperties": false
              }
            },
            "required": [
              "id",
              "default",
              "spatialReference"
            ],
            "additionalProperties": false,
            "title": "Étendues spatiales"
          },
          "description": "Les étendues par défaut, complète et maximale de la carte.",
          "title": "Lots d'étendues spatiales",
          "minItems": 1
        },
        "lodSets": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "title": "ID",
                    "default": ""
                  },
                  "lods": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "level": {
                          "type": "number",
                          "title": "Niveau"
                        },
                        "resolution": {
                          "type": "number",
                          "title": "Résolution"
                        },
                        "scale": {
                          "type": "number",
                          "title": "Échelle"
                        }
                      },
                      "required": [
                        "level",
                        "resolution",
                        "scale"
                      ],
                      "additionalProperties": false
                    },
                    "description": "Niveau de détail pour un schéma de tuiles spécifique",
                    "title": "Niveaux de détail",
                    "minItems": 1
                  }
                },
                "required": [
                  "id",
                  "lods"
                ],
                "additionalProperties": false,
                "title": "Lot de niveaux de détail"
              },
              "description": "Les niveaux de détail selon l'échelle offerts pour la carte",
              "title": "Lots de niveaux de détail",
              "minItems": 1
        },
        "tileSchemas": {
          "type": "array",
          "items": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "description": "L'identifiant unique d'un schéma de tuiles (combinaison de l'étendue et de l'échelle)",
                    "title": "ID",
                    "default": ""
                  },
                  "name": {
                    "type": "string",
                    "description": "Le nom utilisé dans le sélecteur de cartes de base.",
                    "title": "Nom",
                    "default": ""
                  },
                  "extentSetId": {
                    "type": "string",
                    "description": "Le lot d'étendues à utiliser pour la carte de base.",
                    "title": "ID du lot d'étendues",
                    "default": ""
                  },
                  "lodSetId": {
                    "type": "string",
                    "description": "Optionnel. Lot de niveaux de détail utilisé pour la carte de base.",
                    "title": "ID du lot de niv. de détail",
                    "default": ""
                  },
                  "overviewUrl": {
                      "type": "object",
                      "title": "Carte d'aperçu statique",
                      "Description": "Si ce paramètre est vide, la carte d'aperçu sera la même que la carte de base sélectionnée.",
                      "properties": {
                          "layerType": {
                              "title": "Type de couche",
                              "type": "string",
                              "enum": ["esriImage", "esriTile"],
                              "default": "esriTile"
                          },
                          "url": {
                              "type": "string",
                              "description": "Le point de service de la couche. Le type de couche retourné par le service et le type de couche identifié dans les paramètres doivent être les mêmes.",
                              "default": "",
                              "title": "URL"
                          }
                      }
                  },
                  "hasNorthPole": {
                      "type": "boolean",
                      "title": "Possède le Pôle Nord",
                      "version": "2.4",
                      "default": false,
                      "description": "Indique si la projection inclut un pôle Nord. La valeur par défaut est faux afin d'éviter des erreurs."
                  }
              },
              "required": [
                "extentSetId",
                "lodSetId",
                "id",
                "name"
              ],
              "additionalProperties": false,
              "title": ""
            },
            "minItems": 1,
            "description": "Une combinaison unique de niveaux de détail et d'étendues (chaque carte de base doit être associée à un schéa de tuiles)",
            "title": "Schéma des tuiles"
        },
        "components": {
            "type": "object",
            "title": "Composantes",
            "properties": {
                "mouseInfo": {
                    "type": "object",
                    "properties": {
                        "enabled": {
                            "type": "boolean",
                            "title": "Activée",
                            "default": true
                        },
                        "spatialReference": {
                            "title": "Référence spatiale",
                            "type": "object",
                            "properties": {
                                "wkid": {
                                    "type": "number",
                                    "title": "WKID",
                                    "description": "Well-Known ID",
                                    "default": 4326,
                                    "minimum": "0"
                                },
                                "vcsWkid": {
                                    "type": "number",
                                    "title": "VcsWKID",
                                    "description": "Vertical coordinate system WKID",
                                    "default": ""
                                },
                                "latestWkid": {
                                    "type": "number",
                                    "title": "WKID le plus récent",
                                    "default": ""
                                },
                                "latestVcsWkid": {
                                    "type": "number",
                                    "title": "VcsWKID le plus récent",
                                    "default": ""
                                },
                                "wkt": {
                                    "type": "string",
                                    "title": "WKT",
                                    "description": "Well-Known Text",
                                    "default": ""
                                }
                            },
                            "required": ["wkid"],
                            "additionalProperties": false
                        }
                    },
                    "title": "Coordonnées de la souris"
                },
                "northArrow": {
                    "type": "object",
                    "title": "Flèche du Nord",
                    "properties": {
                        "enabled":  { "type": "boolean", "title": "Activée", "default": true },
                        "arrowIcon": { "type": "string", "title": "Icône flèche du Nord", "description": "L'icône url/data url pour la flèche du Nord qui remplace l'icône par défaut." },
                        "poleIcon": { "type": "string", "title": "Icône pôle Nord", "description": "L'icône url/data url du pôle Nord qui remplace la flèche du Nord lorsque le pôle Nord est visible (remplacera l'icône par défaut)." }
                    }
                },
                "overviewMap": {
                    "type": "object",
                    "properties": {
                        "enabled": {
                            "type": "boolean",
                            "title": "Activée",
                            "default": true
                        },
                        "expandFactor": {
                            "type": "number",
                            "description": "Le rapport entre la taille de la carte d'aperçu et le rectangle d'étendue affiché sur cette carte. La valeur par défaut est 2, ce qui signifie que la carte d'aperçu aura au moins deux fois la taille du rectangle d'étendue.",
                            "default": 2,
                            "minimum": "0",
                            "title": "Facteur d'expansion"
                        },
                        "initiallyExpanded": {
                            "type": "boolean",
                            "title": "Visible",
                            "default": true
                        }
                    },
                    "title": "Carte d'aperçu"
                },
                "scaleBar": {
                    "type": "object",
                    "properties": {
                        "enabled": {
                            "type": "boolean",
                            "title": "Activée",
                            "default": true
                        },
                        "default": true
                    },
                    "title": "Échelle"
                },
                "areaOfInterest": {
                     "type": "array",
                     "title": "Région d'intérêt",
                     "version": "2.4",
                     "items": {
                         "type": "object",
                         "title": "Région d'intérêt",
                         "properties": {
                            "title": { "type": "string" },
                            "xmin": { "type": "number", "title": "X min", "description": "La coordonnée xmin (coin inférieur gauche) en lat/long" },
                            "ymin": { "type": "number", "title": "Y min", "description": "La coordonnée ymin (coin inférieur gauche) en lat/long" },
                            "xmax": { "type": "number", "title": "X max", "description": "La coordonnée xmax (coin supérieur droit) en lat/long" },
                            "ymax": { "type": "number", "title": "Y max", "description": "La coordonnée ymax (coin supérieur droit) en lat/long" },
                            "thumbnailUrl": { "type": "string", "title": "URL imagette", "description": "Chemin vers le fichier contenant l'image à afficher dans le sélecteur de régions d'intérêt." }
                        },
                        "required": [ "title", "xmin", "ymin", "xmax", "ymax", "thumbnailUrl" ]
                      },
                    "default": []
                }
            },
            "additionalProperties": false
        },
        "initialBasemapId": {
          "type": "string",
          "description": "Carte de base utilisée lors du chargement initial. Si celle-ci n'a pas été configurée, une autre carte de base sera sélectionnée.",
          "title": "ID carte de base initiale",
          "default": ""
        },
        "baseMaps": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "description": "Un identifiant unique pour la carte de base.",
                    "title": "ID carte de base",
                    "default": ""
                  },
                  "name": {
                    "type": "string",
                    "description": "Nom de la carte de base utilisé pour l'étiquettage.",
                    "title": "Nom",
                    "default": ""
                  },
                  "description": {
                    "type": "string",
                    "description": "Description de la carte de base. Apparaît lorsque le sélecteur de carte de base est étendu.",
                    "title": "Description",
                    "default": ""
                  },
                  "typeSummary": {
                    "type": "string",
                    "description": "Optionnel. Type de la carte de base à afficher dans le sélecteur de carte de base",
                    "title": "Type sommaire",
                    "default": ""
                  },
                  "altText": {
                    "type": "string",
                    "description": "Texte alternatif pour l'imagette de la carte de base.",
                    "title": "Texte alternatif",
                    "default": ""
                  },
                  "thumbnailUrl": {
                    "type": "string",
                    "description": "Chemin vers le fichier image à afficher dans le sélecteur de carte de base.",
                    "title": "URL imagette",
                    "default": ""
                  },
                  "tileSchemaId": {
                    "type": "string",
                    "description": "Le schéma de tuiles pour la carte de base.",
                    "title": "ID schéma de tuiles",
                    "default": ""
                  },
                  "layers": {
                    "type": "array",
                    "title": "Couches",
                    "items": {
                      "type": "object",
                      "title": "Couche",
                      "properties": {
                        "id": {
                          "type": "string",
                          "default": "",
                          "title": "ID"
                        },
                        "layerType": {
                          "type": "string",
                          "default": "esriFeature",
                          "title": "Type de couche"
                        },
                        "url": {
                          "type": "string",
                          "default": "",
                          "title": "URL"
                        },
                        "opacity": {
                            "type": "number",
                            "title": "Opacité",
                            "version": "2.4",
                            "default": 1,
                            "description": "Opacité initiale"
                        }
                      },
                      "additionalProperties": false,
                      "required": [
                        "id",
                        "layerType",
                        "url"
                      ]
                    },
                    "minItems": 1,
                    "description": "Un ensemble d'URLs qui permettent la composition d'une carte de base"
                  },
                  "attribution": {
                    "title": "Attribution",
                    "type": "object",
                    "properties": {
                      "text": {
                        "type": "object",
                        "properties": {
                          "enabled": {
                            "type": "boolean",
                            "default": true,
                            "title": "Activée"
                          },
                          "value": {
                            "type": "string",
                            "description": "Optionnel. Contient la valeur de l'attribution. Si celle-ci est vide, l'attribution retournée par le serveur sera utilisée.",
                            "title": "Description",
                            "default": ""
                          }
                        },
                        "required": [
                          "enabled"
                        ],
                        "additionalProperties": false,
                        "title": "Texte"
                      },
                      "logo": {
                        "type": "object",
                        "properties": {
                          "enabled": {
                            "type": "boolean",
                            "default": true,
                            "title": "Activé"
                          },
                          "value": {
                              "type": "string",
                              "description": "URL pour l'image.",
                              "title": "Texte alternatif",
                              "default": ""
                            },
                          "altText": {
                            "type": "string",
                            "title": "Texte alternatif",
                            "version": "2.4",
                            "description": "Texte de remplacement pour l'image."
                          },
                          "link": {
                            "type": "string",
                            "description": "URL de la destination lorsque l'utilisateur clique sur le logo.",
                            "title": "URL",
                            "default": ""
                          }
                        },
                        "required": [
                          "enabled"
                        ],
                        "additionalProperties": false,
                        "title": "Logo"
                      }
                    },
                    "required": [
                      "text",
                      "logo"
                    ],
                    "additionalProperties": false
                  }
                },
                "required": [
                  "id",
                  "name",
                  "description",
                  "layers",
                  "altText",
                  "tileSchemaId",
                  "url"
                ],
                "additionalProperties": false,
                "title": ""
              },
              "minItems": 1,
              "description": "Une liste de cartes de base offertes via le sélecteur de carte de base.",
              "title": "Collection cartes de base"
        },
        "layers": {
            "description": "",
            "type": "array",
            "title": "Lot de couches",
            "items": {
                "type": "object",
                "properties": {
                    "layerChoice": {
                        "description": "",
                        "type": "string",
                        "enum": ["esriDynamic", "esriFeature", "esriImage", "esriTile", "ogcWms"],
                        "title": "Sélecteur de type de couche",
                        "default": "esriDynamic",
                        "required": true
                    },
                    "id": {
                        "type": "string",
                        "description": "L'ID de la couche pour référencement interne au visualisateur ( n'est pas directement lié à un service externe).",
                        "title": "ID"
                    },
                    "name": {
                        "type": "string",
                        "description": "Le nom de la couche pour les fins d'affichage. Si vide, le visualisateur tentera de trouver un nom",
                        "title": "Nom"
                    },
                    "url": {
                        "type": "string",
                        "description": "Le point de service de la couche. Le type de couche retourné par le service et le type de couche identifié dans les paramètres doivent être les mêmes.",
                        "title": "URL"
                    },
                    "refreshInterval": {
                        "type": "number",
                        "title": "Taux de rafraîchissement",
                        "default": 0,
                        "minimum": 0,
                        "maximum": 100,
                        "description": "Le taux de rafraîssement automatique en minutes. Le taux maximal est 100 minutes."
                    },
                    "metadataUrl": {
                        "type": "string",
                        "description": "L'URL du service de carte pour les métadonnées.",
                        "title": "URL des métadonnées"
                    },
                    "catalogueUrl": {
                        "type": "string",
                        "description": "L'URL du service de carte pour le catalogue.",
                        "title": "URL du catalogue"
                    },
                    "layerType": {
                        "type": "string",
                        "default": "esriDynamic",
                        "title": "Type de couche"

                    },
                    "toggleSymbology": {
                        "type": "boolean",
                        "default": true,
                        "description": "Permet de basculer la visibilité ( allumé/éteint ) pour un symbole particulier.",
                        "title": "Basculer la symbologie"
                    },
                    "tolerance": {
                        "type": "number",
                        "default": 5,
                        "minimum": "0",
                        "description": "Spécifie la tolérance en pixels de la région cliquable entourant un élément. Doit êtreun entier positif",
                        "title": "Tolérance"
                    },
                    "imageFormat": {
                        "type": "string",
                        "title": "Format de l'image de la carte",
                        "description": "Le format de sortie de l'image de la carte. Le format peut être l'un des suivants: png, png8, png28, png32, jpg, pdf, bmp, gif, svg. La valeur par défaut est png32 si rien n'est fourni",
                        "enum": [ "png", "png8", "png24", "png32", "jpg", "pdf", "bmp", "gif", "svg" ],
                        "default": "png32"
                    },
                    "singleEntryCollapse": {
                        "type": "boolean",
                        "default": false,
                        "description": "Indique qu'une couche dynamique avec une seule entrée ne possédera pas d'élément racine.",
                        "title": "Grouper en une seule entrée"
                    },
                    "featureInfoMimeType": {
                        "type": "string",
                        "enum": [ "text/html;fgpv=summary", "text/html", "text/plain", "application/json" ],
                        "description": "Indique qu'elles sont les protocoles activés par un service WMS lors d'une requête de type -- information sur l'élément -- ( GetFeatureInfo ).",
                        "title": "Type du protocole d'information utilisé pour les éléments ( feature info mime type )"
                    },
                    "legendMimeType": {
                        "type": "string",
                        "enum": [ "image/png", "image/gif", "image/jpeg", "image/svg", "image/svg+xml" ],
                        "description": "Indique qu'elles sont les protocoles activés par un service WMS lors d'une requête de type -- récupérer le graphique de la légende -- ( GetLegendGraphic ).",
                        "title": "Type du protocole utilisé pour la légende"
                    },
                    "controls": {
                      "title": "Contrôles",
                      "type": "array",
                      "items": {
                        "type": "string",
                        "enum": [
                          "opacity",
                          "visibility",
                          "boundingBox",
                          "query",
                          "snapshot",
                          "metadata",
                          "boundaryZoom",
                          "refresh",
                          "reload",
                          "remove",
                          "settings",
                          "data",
                          "styles"
                        ]
                      },
                      "uniqueItems": true,
                      "description": "Une liste des contrôles à activer sur une couche en particulier",
                      "default": ["opacity", "visibility", "boundingBox", "query", "snapshot", "metadata", "boundaryZoom", "refresh", "reload", "remove", "settings", "data", "styles"]
                    },
                    "disabledControls": {
                      "description": "Une liste des contrôles visibles, mais qui ne peuvent être modifiés par l'utilisateur",
                      "title": "",
                      "type": "array",
                      "items": {
                        "type": "string",
                        "enum": [
                          "opacity",
                          "visibility",
                          "boundingBox",
                          "query",
                          "snapshot",
                          "metadata",
                          "boundaryZoom",
                          "refresh",
                          "reload",
                          "remove",
                          "settings",
                          "data",
                          "styles"
                        ]
                      },
                      "uniqueItems": true,
                      "default": []
                    },
                    "state": {
                      "title": "État de la couche",
                      "type": "object",
                      "properties": {
                        "opacity": {
                          "type": "number",
                          "minimum": "0",
                          "maximum": "1",
                          "description": "Opacité initiale. La valeur doit être entre 0 et 1.",
                          "title": "Opacité initiale"
                        },
                        "visibility": {
                          "type": "boolean",
                          "default": true,
                          "description": "Visibilité initiale.",
                          "title": "Visibilité initiale"
                        },
                        "boundingBox": {
                          "type": "boolean",
                          "default": false,
                          "description": "Affiche le rectangle englobant.",
                          "title": "Afficher le rectangle englobant"
                        },
                        "query": {
                          "type": "boolean",
                          "default": true,
                          "description": "Permet les requêtes.",
                          "title": "Permettre les requêtes"
                        },
                        "snapshot": {
                          "type": "boolean",
                          "default": false,
                          "description": "Récupérer tous les éléments durant le chargement initial.",
                          "title": "Copie instantanée ( snapshot )"
                        },
                        "hovertips": {
                          "type": "boolean",
                          "default": true,
                          "description": "Désactivé l'affichage d'information lors du survol des éléments de la couche.",
                          "title": "Désactiver l'affichage lors du survol des éléments"
                        }
                      },
                      "additionalProperties": false
                    },
                    "table": {
                        "type": "object",
                        "properties": {
                            "title": {
                                "type": "string",
                                "default": "",
                                "description": "Le titre de la table.",
                                "title": "Titre"

                            },
                            "description": {
                                "type": "string",
                                "description": "Information additionnelle à propos de la table à afficher dans le panneau de configuration.",
                                "title": "Description"
                            },
                            "maximize": {
                                "type": "boolean",
                                "default": false,
                                "description": "Taille de la table lors de l'ouverture initiale. Vrai: maximiser la vue; Faux: diviser la vue.",
                                "title": "Maximiser"
                            },
                            "search": {
                                "enabled": { "type": "boolean", "default": true },
                                "value": {
                                    "type": "string",
                                    "default": null,
                                    "description": "Filtre par défaut à appliquer à la table.",
                                    "title": "Expression"
                                }
                            },
                            "applyMap": {
                                "type": "boolean",
                                "default": false,
                                "description": "Détermine si les filtres par défaut (filtres de champs) sont appliquer à la carte. Vrai: appliqué; Faux: non appliqué.",
                                "title": "Appliquer à la carte"
                            },
                            "columns": {
                                "type": "array",
                                "title": "Champs",
                                "default": [],
                                "items": {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "string",
                                            "description": "Nom du champ (data) to use to link to the layer column. Doit exister dans la couche.",
                                            "title": "Données"
                                        },
                                        "title": {
                                            "type": "string",
                                            "default": "",
                                            "description": "Titre de la colonne. Si elle n'est pas fournie le nom de la colonne par défaut ou l'alias sera utilisé.",
                                            "title": "Titre"
                                        },
                                        "description": {
                                            "type": "string",
                                            "description": "Information additionnelle à propos de la colonne à afficher dans le panneau de configuration.",
                                            "title": "Description"
                                        },
                                        "visible": {
                                            "type": "boolean",
                                            "default": true,
                                            "description": "Détermine si la colonne est visible par défaut. Vrai: la colonne est visible; Faux: la colonne est cachée.",
                                            "title": "Visible"
                                        },
                                        "width": {
                                            "type": "number",
                                            "minimum": "0",
                                            "description": "Largeur de la colonne. Si elle n'est pas fournie, la valeur sera calculée.",
                                            "title": "Largeur"
                                        },
                                        "sort": {
                                            "type": "string",
                                            "enum": ["asc", "desc"],
                                            "description": "Détermine si la colonne est triée. Si rien n'est mentionné la colonne demeure non triée.",
                                            "title": "Trier"
                                        },
                                        "searchable": {
                                            "type": "boolean",
                                            "default": true,
                                            "description": "Détermine si la colonne peut être filtrer. Vrai: la colonne peut être filtrée; Faux: la colonne ne peut être filtrée. Si la valeur est faux, aucun filtre défini pour la colonne ne sera utilisé",
                                            "title": "Interrogeable"
                                        },
                                        "filter": {
                                            "type": "object",
                                            "description": "Information concernant le filtre à appliquer.",
                                            "title": "Filtre",
                                            "properties": {
                                                "type": {
                                                    "type": "string",
                                                    "enum": ["string", "number", "date", "selector"],
                                                    "description": "Spécifie le type de filtre à utiliser. Le type par défaut est data. Les autres filtres doivent être du même type sinon ils ne pourront s'appliquer à la carte.",
                                                    "title": "Type"
                                                },
                                                "value": {
                                                    "type": "string",
                                                    "default": "",
                                                    "description": "La valeur du filtre. Les dates et les nombres sont divisés par une virgule ',' (ex: 0,100 ou pour les dates 2005-02-22,2005-04-30). Le format des dates est AAAA-MM-JJ. Pour les sélecteurs ( selector ) une liste doit être fournie ( ex: [\"Fire\", \"Fatality\"] )",
                                                    "title": "Valeur"
                                                },
                                                "static": {
                                                    "type": "boolean",
                                                    "default": false,
                                                    "description": "Détermine si le filtre peut être modifié. Vrai: la valeur du filtre ne peut être modifiée; Faux: la valeur du filtre peut être modifiée.",
                                                    "title": "Est statique"
                                                }
                                            },
                                            "required": ["type"],
                                            "additionalProperties": false
                                        }
                                    }
                                },
                                "description": "Détermine la liste des champs pour une table."
                            }
                        },
                        "description": "Spécifie comment les champs et la recherche globale sont configurées.",
                        "additionalProperties": false
                    },
                    "layerEntries": {
                        "type": "array",
                        "title": "Couches Utilisées",
                        "default": [],
                        "items": {
                            "type": "object",
                            "properties": {
                                "index": {
                                    "type": "number",
                                    "minimum": "0",
                                    "description": "L'index de la couche dans le service de carte.",
                                    "title": "Index"
                                },
                                "name": {
                                    "type": "string",
                                    "description": "Un nom personnalisé pour la couche. Peut remplacer celui fourni par le service.",
                                    "title": "Nom"
                                },
                                "outfields": {
                                    "type": "string",
                                    "default": "*",
                                    "description": "Liste de noms d'attributs séparés par une virgule pouvant être utilisée pour effectuer des requêtes.",
                                    "title": "Champs externes"
                                },
                                "stateOnly": {
                                    "type": "boolean",
                                    "default": false,
                                    "description": "un indicateur afin d'informer que l'entrée est utilisée seulement pour le suivi de l'état. Par conséquent, tous les contrôles seront absents de l'interface.",
                                    "title": "État seulement"
                                },
                                "id": {
                                    "type": "string",
                                    "description": "L'ID de l'entrée de la couche dans le WMS",
                                    "title": "ID"
                                },
                                "allStyles": {
                                    "type": "array",
                                    "description": "Tous les styles pour l'entrée de la couche dans le WMS",
                                    "title": "Tous les styles",
                                    "items": { "type": "string" }
                                },
                                "currentStyle": {
                                    "type": "string",
                                    "description": "Le style actuel de l'entrée de la couche dans le WMS",
                                    "title": "Le style courant"
                                },
                                "table": {
                                  "type": "object",
                                  "properties": {
                                      "title": {
                                          "type": "string",
                                          "default": "",
                                          "description": "Le titre de la table.",
                                          "title": "Titre"

                                      },
                                      "description": {
                                          "type": "string",
                                          "description": "Information additionnelle à propos de la table à afficher dans le panneau de configuration.",
                                          "title": "Description"
                                      },
                                      "maximize": {
                                          "type": "boolean",
                                          "default": false,
                                          "description": "Taille de la table lors de l'ouverture initiale. Vrai: maximiser la vue; Faux: diviser la vue.",
                                          "title": "Maximiser"
                                      },
                                      "search": {
                                          "enabled": { "type": "boolean", "default": true },
                                          "value": {
                                              "type": "string",
                                              "default": null,
                                              "description": "Filtre par défaut à appliquer à la table.",
                                              "title": "Expression"
                                          }
                                      },
                                      "applyMap": {
                                          "type": "boolean",
                                          "default": false,
                                          "description": "Détermine si les filtres par défaut (filtres de champs) sont appliquer à la carte. Vrai: appliqué; Faux: non appliqué.",
                                          "title": "Appliquer à la carte"
                                      },
                                      "columns": {
                                          "type": "array",
                                          "title": "Champs",
                                          "default": [],
                                          "items": {
                                              "type": "object",
                                              "properties": {
                                                  "data": {
                                                      "type": "string",
                                                      "description": "Nom du champ (data) to use to link to the layer column. Doit exister dans la couche.",
                                                      "title": "Données"
                                                  },
                                                  "title": {
                                                      "type": "string",
                                                      "description": "Titre de la colonne. Si elle n'est pas fournie le nom de la colonne par défaut ou l'alias sera utilisé.",
                                                      "title": "Titre"
                                                  },
                                                  "description": {
                                                      "type": "string",
                                                      "description": "Information additionnelle à propos de la colonne à afficher dans le panneau de configuration.",
                                                      "title": "Description"
                                                  },
                                                  "visible": {
                                                      "type": "boolean",
                                                      "default": true,
                                                      "description": "Détermine si la colonne est visible par défaut. Vrai: la colonne est visible; Faux: la colonne est cachée.",
                                                      "title": "Visible"
                                                  },
                                                  "width": {
                                                      "type": "number",
                                                      "minimum": "0",
                                                      "description": "Largeur de la colonne. Si elle n'est pas fournie, la valeur sera calculée.",
                                                      "title": "Largeur"
                                                  },
                                                  "sort": {
                                                      "type": "string",
                                                      "enum": ["asc", "desc"],
                                                      "description": "Détermine si la colonne est triée. Si rien n'est mentionné la colonne demeure non triée.",
                                                      "title": "Trier"
                                                  },
                                                  "searchable": {
                                                      "type": "boolean",
                                                      "default": true,
                                                      "description": "Détermine si la colonne peut être filtrer. Vrai: la colonne peut être filtrée; Faux: la colonne ne peut être filtrée. Si la valeur est faux, aucun filtre défini pour la colonne ne sera utilisé",
                                                      "title": "Interrogeable"
                                                  },
                                                  "filter": {
                                                      "type": "object",
                                                      "description": "Information concernant le filtre à appliquer.",
                                                      "title": "Filtre",
                                                      "properties": {
                                                          "type": {
                                                              "type": "string",
                                                              "enum": ["string", "number", "date", "selector"],
                                                              "description": "Spécifie le type de filtre à utiliser. Le type par défaut est data. Les autres filtres doivent être du même type sinon ils ne pourront s'appliquer à la carte.",
                                                              "title": "Type"
                                                          },
                                                          "value": {
                                                              "type": "string",
                                                              "default": "",
                                                              "description": "La valeur du filtre. Les dates et les nombres sont divisés par une virgule ',' (ex: 0,100 ou pour les dates 2005-02-22,2005-04-30). Le format des dates est AAAA-MM-JJ. Pour les sélecteurs ( selector ) une liste doit être fournie ( ex: [\"Fire\", \"Fatality\"] )",
                                                              "title": "Valeur"
                                                          },
                                                          "static": {
                                                              "type": "boolean",
                                                              "default": false,
                                                              "description": "Détermine si le filtre peut être modifié. Vrai: la valeur du filtre ne peut être modifiée; Faux: la valeur du filtre peut être modifiée.",
                                                              "title": "Est statique ?"
                                                          }
                                                      },
                                                      "required": ["type"],
                                                      "additionalProperties": false
                                                  }
                                              }
                                          },
                                          "description": "Détermine la liste des champs pour une table."
                                      }
                                  },
                                  "description": "Spécifie comment les champ et la recherche globale sont configurées.",
                                  "additionalProperties": false
                                },
                                "controls": {
                                  "title": "Contrôles",
                                  "type": "array",
                                  "items": {
                                    "type": "string",
                                    "enum": [
                                      "opacity",
                                      "visibility",
                                      "boundingBox",
                                      "query",
                                      "snapshot",
                                      "metadata",
                                      "boundaryZoom",
                                      "refresh",
                                      "reload",
                                      "remove",
                                      "settings",
                                      "data",
                                      "styles"
                                    ]
                                  },
                                  "uniqueItems": true,
                                  "description": "Une liste des contrôles à activer sur une couche en particulier",
                                  "default": ["opacity", "visibility", "boundingBox", "query", "snapshot", "metadata", "boundaryZoom", "refresh", "reload", "remove", "settings", "data", "styles"]
                                },
                                "disabledControls": {
                                  "description": "Une liste des contrôles visibles, mais qui ne peuvent être modifiés par l'utilisateur",
                                  "title": "",
                                  "default": [],
                                  "type": "array",
                                  "items": {
                                    "type": "string",
                                    "enum": [
                                      "opacity",
                                      "visibility",
                                      "boundingBox",
                                      "query",
                                      "snapshot",
                                      "metadata",
                                      "boundaryZoom",
                                      "refresh",
                                      "reload",
                                      "remove",
                                      "settings",
                                      "data",
                                      "styles"
                                    ]
                                  },
                                  "uniqueItems": true
                                },
                                "state": {
                                  "title": "",
                                  "type": "object",
                                  "properties": {
                                    "opacity": {
                                      "type": "number",
                                      "default": 1,
                                      "minimum": "0",
                                      "maximum": "1",
                                      "description": "Opacité initiale. La valeur doit être entre 0 et 1.",
                                      "title": "Opacité initiale"
                                    },
                                    "visibility": {
                                      "type": "boolean",
                                      "default": true,
                                      "description": "Visibilité initiale.",
                                      "title": "Visibilité initiale"
                                    },
                                    "boundingBox": {
                                      "type": "boolean",
                                      "default": false,
                                      "description": "Affiche le rectangle englobant.",
                                      "title": "Afficher le rectangle englobant"
                                    },
                                    "query": {
                                      "type": "boolean",
                                      "default": true,
                                      "description": "Permet les requêtes.",
                                      "title": "Permettre les requêtes"
                                    },
                                    "snapshot": {
                                      "type": "boolean",
                                      "default": false,
                                      "description": "Récupérer tous les éléments durant le chargement initial.",
                                      "title": "Copie instantanée ( snapshot )"
                                    },
                                    "hovertips": {
                                      "type": "boolean",
                                      "default": true,
                                      "description": "Désactivé l'affichage d'information lors du survol des éléments de la couche.",
                                      "title": "Désactiver l'affichage lors du survol des éléments"
                                    }
                                  },
                                  "additionalProperties": false
                                }
                            },
                             "minItems": 1,
                            "required": [
                                "index",
                                "id"
                            ]
                        }
                    }
                },
                "required": [
                    "id",
                    "name",
                    "url",
                    "layerType"
                ]
            }
        },
        "legend": {
            "type": "object",
            "title": "Légende",
            "properties": {
                "legendChoice": {
                    "description": "",
                    "type": "string",
                    "enum": ["autopopulate", "structured"],
                    "title": "Sélecteur du type de légende",
                    "default": "autopopulate",
                    "required": true
                },
                "type": {
                    "type": "string",
                    "title": "Type",
                    "default": "autopopulate"
                },
                "root": {
                    "type": "string",
                    "default": "{\"name\": \"root\", \"children\": []}",
                    "additionalProperties": false
                }
            }
        }
    },
    "required": ["tileSchemas", "baseMaps"]
}
